/*=============================================================================
** 作者：侯玉鹏
** 日期：2017/10/31
** 版本：V1.0
** 头文件
=============================================================================*/

#ifndef _DATA_TRANSFER_H
#define	_DATA_TRANSFER_H
/*============================ INCLUDES ======================================*/

#include "stm32f10x.h"

/*============================ MACROS ========================================*/


/*============================ TYPES =========================================*/
/* 等待发送数据的标志结构体 */
typedef struct
{
  u8 send_status;
  u8 send_speed;
  u8 send_rcdata;
  u8 send_motopwm;
  u8 send_senser;
  u8 send_senser2;
  u8 send_location;
  u8 send_power;
  u8 send_pid1;
  u8 send_pid2;
  u8 send_pid3;
  u8 send_pid4;
  u8 send_user;
} dt_flag_t;
/*============================ GLOBAL VARIABLES ==============================*/

/* 等待发送数据的标志 */
extern u8 wait_for_translate;
/*============================ STATIC VARIABLES ==============================*/

/*============================ FUNCTION ======================================*/

/*----------------------------------------------------------
 + 实现功能：由任务调度调用周期1ms
----------------------------------------------------------*/
extern void Call_Data_transfer(void);

/*----------------------------------------------------------
 + 实现功能：数传初始化
----------------------------------------------------------*/
extern void Data_transfer_init(void);

/*----------------------------------------------------------
 + 实现功能：数据接收并保存
 + 调用参数：接收到的单字节数据
----------------------------------------------------------*/
extern void DT_Data_Receive_Prepare(u8 data);

#endif

